{ 
    "_id" : ObjectId("5bb7f563e93d14027b385cdb"), 
    "slug" : "angular-architecture-workshop", 
    "title" : "Angular Architecture Workshop", 
    "courseType" : "code", 
    "blobsContainer" : "angular-architecture-workshop-course", 
    "categories" : [
        "Programming", 
        "Development", 
        "SPAs"
    ], 
    "authors" : [
        ObjectId("5b8f35524bb4cb000fd8d5c5"), 
        ObjectId("5bb6644af65f4a0011eb6c13")
    ], 
    "description" : "<p>In these workshop labs you'll learn about various Angular concepts that can be applied as you design and architect applications.</p><p>Topics covered include:</p><ul><li>Tooling and setup</li><li>Working with View Models</li><li>Creating a shared library</li><li>Working with preload strategies and route guards</li><li>Use RxJS for communication</li><li>State management options</li></ul>", 
    "published" : true, 
    "accessCode" : "angular-architecture", 
    "accessCodeExpiration" : null, 
    "lastUpdatedDate" : ISODate("2020-11-14T17:43:53.394+0000"), 
    "public" : true, 
    "createdDate" : ISODate("2018-10-05T06:25:23.839+0000"), 
    "publishDate" : ISODate("2018-10-05T06:25:23.839+0000"), 
    "items" : [

    ], 
    "labs" : [
        {
            "items" : [

            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Install VS Code from <a target=\"_blank\" href=\"https://code.visualstudio.com\">https://code.visualstudio.com</a> if it&#39;s not already installed on your machine.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This extension adds additional code help support into Angular templates.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Install the Angular Language Service extension from the <a target=\"_blank\" href=\"https://marketplace.visualstudio.com/items?itemName=Angular.ng-template\">VS Code marketplace</a>.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "node --version", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  We recommend installing the latest <strong>LTS version</strong> of Node.js for this workshop.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Check that you have Node.js installed by running the following command. If you don&#39;t have it on your machine install it from <a target=\"_blank\" href=\"https://nodejs.org\">https://nodejs.org</a>.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "git clone https://github.com/DanWahlin/angular-architecture\ncd angular-architecture", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Clone the GitHub repository with the demos and labs. Or, download the repository in a zip file</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "git pull", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>If you already cloned the repo, be sure to get the latest changes by pulling the code again.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "npm install -g @angular/cli", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Install the Angular CLI if you don&#39;t already have it by running the following command:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng --version", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Verify the <strong>Angular CLI</strong> installation by running the following command:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng new my-project", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You&#39;ll be prompted to choose routing (or not) and your preferred way to work with CSS. Select anything you&#39;d like for those options.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Run the following command to make sure the tools are working correctly. This will use the Angular CLI to create a new project which will verify everything is working correctly.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Installing the Tools and Labs", 
                    "description" : "<p>In this exercise you&#39;ll install the required tools and code to run the labs in the course.</p>"
                }
            ], 
            "labId" : NumberInt(1), 
            "title" : "Tooling and Setup", 
            "description" : "<p>This lab will walk you through getting the required tools and code setup.</p>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [

            ], 
            "exercises" : [
                {
                    "items" : [
                        {
                            "items" : [

                            ], 
                            "type" : "note", 
                            "title" : "", 
                            "content" : "<p>You can find the final code solution for this lab exercise <a href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/view-models/end\" rel=\"noopener noreferrer\" target=\"_blank\">here</a>.</p>", 
                            "itemId" : NumberInt(1)
                        }
                    ], 
                    "steps" : [
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "npm install", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open the <code>angular-architecture/labs/view-models/begin</code> folder in your editor. </p><p>Open a terminal window at the root of the <code>begin</code> folder and run the following command to install the necessary packages:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open <code>src/app/customers/customer-vm.ts</code>. Locate the <code>Add \"pet\" and \"isDeleted\" properties</code> comment. Immediately below it add <strong>pet</strong> (as a string) and <strong>isDeleted</strong> (as a boolean) properties.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>If you're new to the syntax, the <code>const</code> line of code uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"noopener noreferrer\" target=\"_blank\">destructuring</a> to break apart the <code>customer</code> ﻿ object into individual values. Those values are then consolidated into an object (using shortcut property syntax) and returned from the function.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Locate the <code>toCustomer()</code> function in the <code>customer-vm.ts</code> file. Include <strong>pet</strong> and <strong>isDeleted</strong> among the <code>const</code> values as well as in the returned object.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "customers\n  .filter(customer => this.showDeleted || !customer.isDeleted)\n  .map(customer => CustomerVm.create(customer))", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>The <strong>createVm$</strong> function is responsible for assigning an observable to the <strong>vms$</strong> property that you looked at earlier. This property is bound to the template using the async pipe.</p>", 
                                    "itemId" : NumberInt(2)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "richtext", 
                                    "content" : "<p>Now locate the <strong>toggleShowDeleted()</strong> function at the bottom of the class. Add the following code into the function to toggle <strong>showDeleted</strong> and call <strong>createVm$</strong>:</p>", 
                                    "itemId" : NumberInt(3)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "this.showDeleted = !this.showDeleted;\nthis.createVm$();", 
                                    "itemId" : NumberInt(4)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Perform the following tasks within the <strong>VmContainerComponent</strong> class:</p><ul><li>Add a <strong>showDeleted</strong> boolean property.</li><li>Locate the <strong>createVm$</strong> function and modify it to filter customers based on the <strong>showDeleted</strong> or <strong>customer.isDeleted</strong> status as shown below:</li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng serve -o", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Open a terminal window at the root of the <strong>begin</strong> folder and run the following command to build and run the project. Fix any build errors if necessary before continuing.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Perform the following tasks:</p><ul><li>Click on a customer to view their details.</li><li>Edit a customer and save the changes.</li><li>Delete a customer (while editing) using the checkbox and save the change.</li><li>Select the&nbsp;<strong>Show Deleted</strong>&nbsp;checkbox and notice that the deleted customer displays.</li></ul><p><br></p><p>Because this lab uses a ViewModel ...</p><ol><li>Notice how the changes you made to the customer in the details component do not affect the customer list component or the container, until they are saved.</li><li>Notice how the pet and isDeleted properties now exist on the customer?</li></ol><p><br></p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Working with View Models", 
                    "description" : "<p>In this exercise you&#39;ll extend a Customer ViewModel example by displaying two properties that are in the Customer data but not in the ViewModel: <strong>pet</strong> and <strong>isDeleted</strong></p><p>The <strong>isDeleted</strong> flag is a reversible Customer &quot;soft delete&quot;. You&#39;ll add a <strong>showDeleted</strong> flag to the container and use it to filter Customer ViewModels for display.</p>"
                }
            ], 
            "labId" : NumberInt(2), 
            "title" : "Working with View Models", 
            "description" : "<p>In this lab you'll learn about how View Models can be used in your Angular applications to work with observables.</p>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [
                {
                    "items" : [

                    ], 
                    "type" : "note", 
                    "title" : "", 
                    "content" : "<p>  The solution for this lab can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/rxjs-subjects/end\">found here</a>.</p>", 
                    "itemId" : NumberInt(1)
                }
            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open Angular Architecture project&#39;s <strong>labs/rxjs-subjects/begin</strong> folder in VS Code.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Open <strong>src/app/core/subject.service.ts</strong> in the editor.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Take a moment to look through the existing code in the class and note that it has an <strong>init()</strong> function defined.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "subject$: Subject<string>;\nobservable$: Observable<string>;", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Why is $ being used in the property names? This is a common convention to follow when working with “streams” in JavaScript applications and subjects/observables in Angular applications, but it isn’t a naming convention that you have to follow.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Add the following properties into the <strong>SubjectsService</strong> class. Ensure that you add the proper data type shown below when you define the property and that you do the proper import statement at the top of the file to import the type.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Locate the <strong>Create Subject and Observable Here</strong> comment in the <strong>init()</strong> function.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Perform the following tasks below the comment:</p><ul><li><p>Create a new instance of a <strong>Subject</strong>. Assign the instance to the <strong>subject$</strong> property created earlier.</p></li><li><p>On a separate line, add code to call <strong>subject$.asObservable()</strong> and assign the result to the <strong>observable$</strong> property created earlier.</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "setInterval(() => {\n\n}, 3000)", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Immediately after the code added in the previous step, add the following code to fire a timer every 3 seconds:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const date = new Date();\n\n// Place the following code on a single line when adding it \nconst time = `${date.getHours()}:${date.getMinutes()}:\n                        ${date.getSeconds()}`;\nthis.subject$.next(time);", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Note that tick marks are used around the time string rather than apostrophes or quotes. This is using the ES2015 string template functionality to embed variables in the string. It also supports multi-line strings (although in this case please remove the wrapping shown above in the time variable value).</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Add the following code inside of the <strong>setInterval()</strong> function to create a time value and send it out to any subscribers using the Subject type’s <strong>next()</strong> function:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Save your work and continue to the next exercise.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Add RxJS Subject Functionality into a Service", 
                    "description" : "<p>In this exercise, you&#39;ll work with the RxJS Subject type and use it in an Angular service.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open <strong>src/app/app.component.ts</strong> in the editor. Note the following about the component:</p><ul><li><p>It defines three array properties (<strong>subscription1Data</strong>, etc.)</p></li><li><p>It defines three functions (<strong>subscribe1()</strong>, etc.)</p></li></ul>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Inject SubjectsService into the component’s constructor. Give the parameter a name of subjectsService and make it private so that TypeScript automatically creates a property.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "data => this.subscription1Data.push(data)", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Add code in the <strong>subscribe1()</strong> function to subscribe to <strong>SubjectService’s</strong> <strong>observable$</strong> property. Add the following code into the <strong>subscribe()</strong> function:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>The call to <strong>subscribe()</strong> will return a <strong>Subscription</strong> object. Assign the result of the call to a new property named <strong>sub1</strong> of type <strong>Subscription</strong>. Note that you’ll need to create the property.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Implement the <strong>OnDestroy</strong> interface on the component class and add an <strong>ngOnDestroy()</strong> function.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "sub1.unsubscribe();", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Add the following into <strong>ngOnDestroy()</strong> to unsubscribe from the subscription.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Subscribing to an Observable", 
                    "description" : "<p>In this exercise, you&#39;ll subscribe to the observable exposed by SubjectsService.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng serve -o --watch", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Right-click on the <strong>begin</strong> folder in VS Code and select <strong>Open in Terminal</strong>. Run the following command to build the project, launch the browser, and watch for any code changes:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Click on the button in the <strong>Subscription 1</strong> section of the page. Notice that after a few seconds values are displayed. These values are being returned using the <strong>Subject</strong> object you created in <strong>SubjectService</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Leave the browser open. Go back to the editor and copy the existing code found in the <strong>subscribe1()</strong> function into <strong>subscribe2()</strong> and <strong>subscribe3()</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Add two additional <strong>Subscription</strong> properties into the class named <strong>sub2</strong> and <strong>sub3</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Assign the result of each <strong>subscribe()</strong> call to the appropriate <strong>Subscription</strong> property.</p><p>In other words, in <strong>subscribe2()</strong> assign the result of the <strong>subscribe()</strong> call to the <strong>sub2</strong> property. Do the same thing for <strong>subscribe3()</strong> (use <strong>sub3</strong> there).</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Change <strong>subscription1Data</strong> to <strong>subscription2Data</strong> in the <strong>subscribe2()</strong> function and <strong>subscription1Data</strong> to <strong>subscription3Data</strong> in <strong>subscribe3()</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Unsubscribe from <strong>sub2</strong> and <strong>sub3</strong> in <strong>ngOnDestroy()</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>When you’re done, each of the <strong>subscribeX()</strong> functions should reference the appropriate <strong>subX</strong> property and <strong>subscriptionXData</strong> property.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Make sure your code is compiling correctly by looking at the console that should still be running. If there’s a problem, fix it before continuing.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Go back to the browser and perform the following steps:</p><ul><li><p>Click on the <strong>Subscription 1</strong> button</p></li><li><p>Wait around 10 seconds and click on the <strong>Subscription 2</strong> button</p></li><li><p>Wait another 10 seconds and click on the <strong>Subscription 3</strong> button</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "hint", 
                                    "title" : "Answer", 
                                    "content" : "<p>  Because you used a Subject in <strong>SubjectsService</strong>, only current subscribers get data. If a subscriber subscribes later they do not get any of the data that was previously sent.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(11), 
                            "description" : "<p>Did the <strong>Subscription 2</strong> and <strong>Subscription 3</strong> areas display all of the same data that was sent to Subscription 1? Why or why not?</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  When you create an instance of BehaviorSubject you must pass a value to its constructor. You can pass null for this exercise. The value represents the initial value that should be sent to the first subscriber when they initially subscribe.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(12), 
                            "description" : "<p>Go back to <strong>SubjectsService</strong> and refactor it to use a <strong>BehaviorSubject</strong> instead of <strong>Subject</strong>.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "hint", 
                                    "title" : "Answer", 
                                    "content" : "<p>  The first value displayed should be empty (null). This is because we passed null into the BehaviorSubject constructor when it was created in SubjectsService.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(13), 
                            "description" : "<p>Go back to the browser and click on the Subscription 1 button. What value was displayed first in the <strong>Subscription 1</strong> area?</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "hint", 
                                    "title" : "Answer", 
                                    "content" : "<p>  Yes! It passed the last value that was went to Subscription 1 (as well as any new values). That’s the key benefit of using BehaviorSubject over Subject. New subscribers always get the last value that the subject emitted.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(14), 
                            "description" : "<p>Now click on the <strong>Subscription 2</strong> button. Did the <strong>Subscription 2</strong> area display any of the data passed to <strong>Subscription 1</strong> (even though you subscribed later)?</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(15), 
                            "description" : "<p>Click on the <strong>Subscription 3</strong> button. You should see that it receives the last value sent from the subject as well as any new values.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(16), 
                            "description" : "<p>Close the browser.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(17), 
                            "description" : "<p>Stop the console in VS Code by highlighting it and pressing <strong>Ctrl+C</strong>.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(3), 
                    "title" : "Adding Additional Subscriptions", 
                    "description" : "<p>In this exercise, you&#39;ll add additional subscriptions and run the project.</p>"
                }
            ], 
            "labId" : NumberInt(3), 
            "title" : "Working with RxJS Subjects", 
            "description" : "<p>In this lab, you&#39;ll work with RxJS subjects to learn how they can be used to create observables and support subscriptions. Learn how to:</p><ul><li><p>Work with different types of RxJS subjects</p></li><li><p>Learn about the behavior of various RxJS subjects</p></li><li><p>Subscribe to observables created by an RxJS subject</p></li></ul>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [
                {
                    "items" : [

                    ], 
                    "type" : "note", 
                    "title" : "", 
                    "content" : "<p>  The solution for this lab can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/creating-an-observable-service\">found here</a>.</p>", 
                    "itemId" : NumberInt(1)
                }
            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng new observable-service", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open a terminal window and run the following command to create a new Angular project.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "cd observable-service", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p><strong>cd</strong> into the new project folder.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "code .", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If your system doesn’t recognize the <strong>code .</strong> command, open the project folder using the File menu.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Open the project in VS Code by running the following command:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Feel free to use an external terminal window if that&#39;s what you prefer.</p>", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "hint", 
                                    "title" : "Getting to the VS Code Terminal", 
                                    "content" : "<p>  To start a new VS Code terminal window you can right-click anywhere in the root of the project and select <strong>Open in Terminal</strong> from the menu.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Run the application using <strong>ng serve -o</strong> in the <strong>VS Code terminal</strong>.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Create an Angular Project", 
                    "description" : "<p>In this exercise, you&#39;ll create an Angular project using the CLI.</p>"
                }, 
                {
                    "items" : [
                        {
                            "items" : [

                            ], 
                            "type" : "note", 
                            "title" : "", 
                            "content" : "<p>  Subject is one of many &quot;subject&quot; objects provided by RxJS. Here&#39;s a list of the various &quot;subject&quot; objects:</p><ul><li><p><strong>Subject</strong> – Send data to subscribed observers (any previously emitted data is not sent)</p></li><li><p><strong>BehaviorSubject</strong> – Send last data value to observers as they subscribe</p></li><li><p><strong>ReplaySubject</strong> - All previously sent data is also sent to new observers (this behavior can be changed)</p></li><li><p><strong>AsyncSubject</strong> - Emits the last value (and only the last value) to observers when the sequence is completed</p></li></ul>", 
                            "itemId" : NumberInt(1)
                        }
                    ], 
                    "steps" : [
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng g service shopping-cart", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Create a new Angular service by running the following command in a terminal window.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If you need any help with the tasks in this step refer to the workshop slides or the hint below.</p>", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "import { Injectable } from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShoppingCartService {\n\n  private itemsInCart = 0;\n  private shoppingCartSubject$ = new Subject<number>();\n  shoppingCartChanged$ = this.shoppingCartSubject$.asObservable();\n\n\n}", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "ShoppingCartService Code", 
                                    "content" : "<p>  Here&#39;s the final code for the shopping cart service:</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Perform the following tasks in the service:</p><ul><li><p>Create a <strong>private</strong> property named <strong>itemsInCart</strong> and assign it a value of <strong>0</strong>.</p></li><li><p>Create a private property named <strong>shoppingCartSubject$</strong>. Assign a new instance of <strong>Subject</strong> to the property.</p></li><li><p>Create a property named <strong>shoppingCartChanged$</strong>. Assign <strong>shoppingCartSubject$.asObservable()</strong> to the property.</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "addToCart() {\n  this.itemsInCart++;\n  this.shoppingCartSubject$.next(this.itemsInCart);\n}", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "addToCart() Function", 
                                    "content" : "<p>  Here&#39;s what the code should look like for the addToCart() function:</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Add a function named <strong>addToCart()</strong> into the service. It should do the following:</p><ul><li><p>Increment <strong>itemsInCart</strong> by <strong>1</strong> each time the function is called.</p></li><li><p>Call the <strong>shoppingCartSubject$’s</strong> <strong>next()</strong> function and pass the value of <strong>itemsInCart</strong> to it.</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "import { Component, OnInit } from '@angular/core';\nimport { ShoppingCartService } from '../core/shopping-cart.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n\n  constructor(private shoppingCartService: ShoppingCartService) { }\n\n  ngOnInit() {\n\n  }\n\n  addToCart() {\n    this.shoppingCartService.addToCart();\n  }\n\n}", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "ProductsComponent Code", 
                                    "content" : "<p>  The code for ProductsComponent can be found below:</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Create a new component named <strong>products</strong> (using <strong>ng g c products</strong>) and perform the following tasks in it:</p><ul><li><p>Remove the existing HTML from the template and add a button with the text <strong>Add to Cart</strong>.</p></li><li><p>Inject <strong>ShoppingCartService</strong> into the component constructor.</p></li><li><p>When the button is clicked call a function in the component that calls the shopping cart service’s <strong>addToCart()</strong> function. You can name the component function anything you&#39;d like.</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If you prefer you can use SubSink to handle unsubscribing. Details about SubSink can be found at <a target=\"_blank\" href=\"https://github.com/wardbell/subsink#readme\">https://github.com/wardbell/subsink#readme</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ShoppingCartService } from '../core/shopping-cart.service';\n\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n  cartItemsCount = 0;\n  shoppingCartSub: Subscription;\n\n  constructor(private shoppingCartService: ShoppingCartService) { }\n\n  ngOnInit() {\n    this.shoppingCartSub = this.shoppingCartService.shoppingCartChanged$.subscribe(val => {\n      this.cartItemsCount = val;\n    });\n  }\n\n  ngOnDestroy() {\n    this.shoppingCartSub.unsubscribe();\n  }\n\n}", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "HeaderComponent Code", 
                                    "content" : "<p>  Here&#39;s the final code for the HeaderComponent.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Create a new component named <strong>header</strong> (using <strong>ng g c header</strong>) and perform the following tasks in it:</p><ul><li><p>Inject <strong>ShoppingCartService</strong>.</p></li><li><p>Add a <strong>cartItemsCount</strong> property and assign a value of <strong>0</strong>.</p></li><li><p>In <strong>ngOnInit()</strong>, subscribe to the shopping cart service’s <strong>shoppingCartChanged$</strong> observable.</p></li><li><p>Assign the data received from the observable to the <strong>cartItemsCount</strong> property.</p></li><li><p>Assign the <strong>Subscription</strong> object returned from calling <strong>subscribe()</strong> to a property in the component named <strong>shoppingCartSub</strong> which is of type <strong>Subscription</strong>.</p></li><li><p>Implement the <strong>OnDestroy</strong> interface on the component class.</p></li><li><p>Add an <strong>ngOnDestroy()</strong> method that handles unsubscribing from the <strong>Subscription</strong> stored in <strong>shoppingCartSub</strong>.</p></li><li><p>Write the value of <strong>cartItemsCount</strong> out in the component’s template using the <strong>{{ }}</strong> interpolation binding.</p></li></ul>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Open <strong>app.component.html</strong> and remove all of the HTML.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Add the <strong>header</strong> component’s selector into the top of <strong>app.component.html</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Add the <strong>products</strong> component’s selector into <strong>app.component.html</strong> under the header selector.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If you forgot to start the local development server earlier you can run the <strong>ng serve -o</strong> command in a terminal window (at the root of the project) to start it.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Go to the browser and click the <strong>Add to Cart</strong> button. You should see that the cart item count displayed by the header component increments each time the button is clicked.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Stop the <strong>ng serve</strong> process running in the terminal window by pressing <strong>Ctrl+C</strong>.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Creating and Using an Observable Service", 
                    "description" : "<p>In this exercise, you&#39;ll create an observable service and use it for component communication.</p>"
                }
            ], 
            "labId" : NumberInt(4), 
            "title" : "Creating an Observable Service", 
            "description" : "<p>In this lab, you&#39;ll work with observable services and learn how subjects can be used to support component communication.</p>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [

            ], 
            "exercises" : [
                {
                    "items" : [
                        {
                            "items" : [

                            ], 
                            "type" : "note", 
                            "title" : "", 
                            "content" : "<p>  You can find the final code solution for this lab exercise can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/state-management/ngrx\">found here</a>.</p>", 
                            "itemId" : NumberInt(1)
                        }
                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/state-management/ngrx/begin</strong> folder in your editor.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Right-click on the <strong>begin</strong> folder and select <strong>Open in Terminal</strong> from the menu.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "javascript", 
                                    "content" : "ng serve -o", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Don’t worry about any errors you see in the console. You’ll add code that will resolve the errors later in this exercise.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Launch the application in the browser by running the following Angular CLI command:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Ngrx is based on the following concepts:</p><ul><li><p>Actions</p></li><li><p>Reducers</p></li><li><p>Effects</p></li><li><p>Selectors</p></li><li><p>Store</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This explanation is very high level but provides a general overview of how the different parts of Ngrx interact. You can find more information about Ngrx at <a target=\"_blank\" href=\"https://github.com/ngrx/platform\">https://github.com/ngrx/platform</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>With Ngrx, a component creates an action that is then sent to reducers that interact with the store. Selectors allow data to be retrieved as it changes in the store. In cases where HTTP calls (or others) need to be made to retrieve data, effects can be used.</p><p>Let’s explore each of these options one by one and look at the code that’s required to make them work.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Open <strong>package.json</strong> and take a moment to look at the dependencies. You’ll notice several NgRx packages defined.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Open <strong>src/app/core/model</strong> and take a moment to explore the code in the <strong>customer.ts</strong> and <strong>order.ts</strong> files. These model classes will be used to pass data around the application.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Open <strong>src/app/app.module.ts</strong>.</p><p>Notice that <strong>StoreModule</strong> and <strong>EffectsModule</strong> code is imported. These are provided by NgRx.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Now let’s look at the <strong>Actions</strong> exposed by the application. Actions are used to send a payload to a reducer which will ultimately interact with the data store.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(11), 
                            "description" : "<p>Open <strong>src/app/store/actions/customer.actions.ts</strong> in the editor.</p><p>Note the following actions that are supported by the application. Each of them also includes error and success actions.</p><ul><li><p>Get Customer</p></li><li><p>Get Customers</p></li><li><p>Add Customer</p></li><li><p>Update Customer</p></li><li><p>Delete Customer</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Note that <strong>GetCustomers</strong> doesn’t define a payload (since it retrieves all customers and doesn’t require any additional data to be sent) whereas <strong>GetCustomersError</strong> includes a payload since information about the error would need to be passed.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(12), 
                            "description" : "<p>Locate the <strong>GetCustomers</strong> and <strong>GetCustomersError</strong> classes in the same file. Note how they reference the constants that you looked at previously.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "export class GetCustomersSuccess implements Action {\n  readonly type = GET_CUSTOMERS_SUCCESS;\n  constructor(public readonly payload: Customer[]) {}\n}", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Note that the payload for this action is <strong>Customer[]</strong>.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(13), 
                            "description" : "<p>Locate the <strong>Add GetCustomersSuccess Action Here</strong> comment and add the following code immediately after it:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You can learn more about Union Types and how they can be used in TypeScript here: <a target=\"_blank\" href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a></p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(14), 
                            "description" : "<p>Scroll to the bottom of the file and notice that <strong>GetCustomersSuccess</strong> is already included in the <strong>AllCustomerActions</strong> type. This type uses the TypeScript “union types” feature.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(15), 
                            "description" : "<p>Open <strong>src/app/store/reducers/customer.reducer.ts</strong> in the editor.</p><p>Locate the <strong>reducer()</strong> function in the file.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(16), 
                            "description" : "<p>Take a moment to explore the different switch cases that are defined. These handle the action payloads, interact with the store, and return the updated state.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "case CustomerActions.GET_CUSTOMERS_SUCCESS: {\n   return {\n      ...state,\n      customers: action.payload,\n      loading: false\n    };\n}", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This returns the existing state properties, the customers from the action’s payload, and sets the loading property to false since the customers are now loaded when this reducer is executed.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(17), 
                            "description" : "<p>Locate the <strong>Add the ADD_CUSTOMERS_SUCCESS Reducer Here</strong> comment and add the following code after it:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(18), 
                            "description" : "<p>Open <strong>src/app/store/services/customer-data.service.ts</strong>.</p><p>Locate the <strong>getCustomers()</strong> function. Notice that it uses <strong>HttpClient</strong> to retrieve data from an API service. Although Ngrx has several different parts, it still relies on core Angular concepts such as services for some functionality.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(19), 
                            "description" : "<p>Open <strong>src/app/store/effects/customer.effects.ts</strong>.</p><p>Locate the <strong>getCustomers$</strong> effect. Notice that is uses <strong>customerDataService</strong> that you looked at a moment ago to retrieve data as well as the <strong>GetCustomersSuccess</strong> action. If an error occurs the <strong>GetCustomersError</strong> action is used.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(20), 
                            "description" : "<p>Open <strong>src/app/store/services/customer.selectors.ts</strong>.</p><p>Locate the <strong>CustomerSelector</strong> class at the bottom of the file and notice that it defines several properties including <strong>customers$</strong>, which accesses data from the store.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(21), 
                            "description" : "<p>Now that you’ve looked at actions, reducers, effects, and selectors, let’s see how a component can interact with a Ngrx store.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Any time the observable changes the component will automatically get the changes.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(22), 
                            "description" : "<p>Open <strong>src/app/customers/customers.component.ts</strong>.</p><p>Notice that a Store object as well as a <strong>CustomerSelectors</strong> object is injected into the constructor. The constructor then uses the <strong>CustomerSelectors</strong> value to bind a customers$ selector property to a local property in the component named <strong>customers$</strong>.</p><p>This is how customer data gets back into the component after an action is sent out to a reducer.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "getCustomers() {\n   this.store.dispatch(new CustomerAction.GetCustomers());\n}", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(23), 
                            "description" : "<p>To get customers into the component you’ll need to dispatch an action to the store. Add the following function into <strong>CustomersComponent</strong>:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(24), 
                            "description" : "<p>Locate the <strong>ngOnInit()</strong> function and add code into it to call <strong>getCustomers()</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(25), 
                            "description" : "<p>Save all of your work up to this point and make sure you don’t have any errors in the console. If you have any errors review the code you entered in the previous steps and fix the errors before proceeding.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(26), 
                            "description" : "<p>Go to the browser and ensure that customers are loading correctly in the application.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(27), 
                            "description" : "<p>Stop the <strong>ng serve</strong> process in the console by highlighting it and pressing <strong>Ctrl+C</strong>.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Working with NgRx", 
                    "description" : "<p>In this exercise, you&#39;ll explore an Angular project that uses NgRx for state management.</p>"
                }, 
                {
                    "items" : [
                        {
                            "items" : [

                            ], 
                            "type" : "note", 
                            "title" : "", 
                            "content" : "<p>  You can find the final code solution for this lab exercise at <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/state-management/ngrx-data\">https://github.com/DanWahlin/angular-architecture/tree/master/state-management/ngrx-data</a>.</p>", 
                            "itemId" : NumberInt(1)
                        }
                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open the <strong>labs/state-management/ngrx-data/begin</strong> folder in your editor.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Right-click on the <strong>begin</strong> folder and select <strong>Open in Terminal</strong> from the menu.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "ng serve -o", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Don’t worry about any errors you see in the console. You’ll add code that will resolve the errors later in this exercise.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Launch the application in the browser by running the following Angular CLI command:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Keep the browser open (even though there are errors to fix) and switch back to your editor.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>You can find more details about ngrx-data at <a href=\"https://ngrx.io/guide/data\" rel=\"noopener noreferrer\" target=\"_blank\">https://ngrx.io/guide/data</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>ngrx-data acts as a wrapper around NgRx. Actions, reducers, selectors, effects, and a store are still used behind the scenes. ngrx-data can simplify the overall process while providing the key benefits Ngrx offers. ngrx-data relies on entities and services for data retrieval and manipulation.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Open <strong>package.json</strong> and take a moment to look at the dependencies. You’ll notice several Ngrx packages as well as ngrx-data.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Open the <strong>src/app/core/model</strong> folder and take a moment to explore the <strong>Customer</strong> and <strong>Order</strong> model classes (the “entities”) defined there. These will be used by ngrx-data to pass data around the application.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "import { EntityMetadataMap } from 'ngrx-data';\n\nconst entityMetadata: EntityMetadataMap = {\n  Customer: {},\n  Order: {}\n};\n\nconst pluralNames = { };", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This will let ngrx-data know that we’ll be working with Customer and Order entities throughout the application.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Open <strong>src/app/store/entity-metadata.ts</strong> in the editor.</p><p>Add the following code into the file to import the <strong>EntityMetadataMap</strong> symbol from ngrx-data and define the names of the entities used in the application.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const pluralNames = {\n  Goose: 'Geese' // Would use Geese for the plural version\n};", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Although you won’t be using the <strong>pluralNames</strong> variable in this exercise, it’s worth discussing. In cases where you have entities that have &quot;tricky&quot; plural versions of their names, you can define what the plural version would look like here.</p><p>For example, goose (singular) and geese (plural) rather than using gooses for the plural version. An example of overriding the plural version of a name is shown below (do NOT add this into the code as it’s for example only):</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "export const entityConfig = {\n  entityMetadata,\n  pluralNames\n};", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Now you’ll map the <strong>entityMetadata</strong> and <strong>pluralNames</strong> constants into a constant named <strong>entityConfig</strong> that will be used in a moment. Add the following code immediately after the previous code you entered:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  The process of importing StoreModule and EffectsModule is similar to what you saw with Ngrx. This is because ngrx-data relies on Ngrx behind the scenes.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(11), 
                            "description" : "<p>Open <strong>src/app/store/app-store.module.ts</strong>.</p><p>Notice that <strong>StoreModule and</strong> <strong>EffectsModule</strong> are imported from NgRx. The NgrxDataModule is also imported which is a module that’s provided by ngrx-data.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "NgrxDataModule.forRoot(entityConfig)", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(12), 
                            "description" : "<p>Import the <strong>entityConfig</strong> constant at the top of the file (you created this earlier in <strong>store/entity-metadata.ts</strong>) and pass it into the <strong>NgrxDataModule</strong> as shown next to register the entity metadata information with the module:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  By default, ngrx-data uses a singular version of the entity name in the URL (“customer”) when retrieving a single entity and a plural version of the entity name (“customers”) when retrieving a collection of entities.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(13), 
                            "description" : "<p>ngrx-data automatically handles making HTTP calls to RESTful services based on naming conventions so you don’t have to write effects out of the box. This means that you don’t have to write <strong>HttpClient</strong> code in many cases. You only have to create a specific type of service which you’ll see in a moment. However, you can override these conventions any time you want.</p><p>At the top of the <strong>app-store.module.ts</strong> file you’ll notice a <strong>defaultDataServiceConfig</strong> definition which is passed into the <strong>NgrxDataModule</strong>. The custom definition is used to map the customer and order entities to a custom URL format so that “customers” and “orders” respectively is always used in the URL whether you’re selecting one customer or many.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(14), 
                            "description" : "<p>Open <strong>src/app/customers/customers.service.ts</strong> in the editor.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You’ll find a similar class that is used to work with Order entities in the <strong>src/app/orders/orders.service.ts</strong> file.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(15), 
                            "description" : "<p>This service class extends <strong>EntityCollectionServiceBase</strong> which is provided by ngrx-data. The service handles working with data for the Customer entity and making the necessary HTTP calls to retrieve and manipulate the data.</p><p>Notice that <strong>EntityCollectionServiceElementsFactory</strong> object is injected into the service’s constructor and passed into the base class’s constructor along with the name of the entity. The entity collection classes handle all of the heavy lifting such as HTTP calls and mapping data to defined entities.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(16), 
                            "description" : "<p>You have just configured your first ngrx-data store! You can see it’s not a lot of code to get started. Now let’s look at how to interact with the store.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "customers$: Observable<Customer[]>;\nloading$: Observable<boolean>;", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(17), 
                            "description" : "<p>Open <strong>src/app/customers/customers.component.ts</strong> in the editor.</p><p>Add the following properties into the component (the necessary imports are already included at the top of the file for you):</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "constructor(private customersService: CustomersService) {\n    this.loading$ = this.customersService.loading$;\n}", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This code handles associating the <strong>loading$</strong> property from the store (an observable) to the <strong>loading$</strong> property of the component. This could be used to show/hide a spinner of some type as data is being retrieved from a server.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(18), 
                            "description" : "<p>Update the component’s constructor to look like the following code:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "getCustomers() {\n    this.customers$ = this.customersService.getAll();\n}", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>Where did the <strong>getAll()</strong> function come from? It’s one of the built-in functions provided by ngrx-data. Additional functions such as getById(), add(), delete(), update(), etc. exist as well.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(19), 
                            "description" : "<p>Add the following function into the component to handle getting customers from the customers service and then assigning them to the component:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(20), 
                            "description" : "<p>Locate the <strong>ngOnInit()</strong> function. Add code in it to call the <strong>getCustomers()</strong> function.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(21), 
                            "description" : "<p>Open <strong>src/app/customers/customers-edit/customers-edit.component.ts</strong> in the editor.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(22), 
                            "description" : "<p>Locate the <strong>add()</strong>, <strong>delete()</strong>, and <strong>update()</strong> functions and notice how they call the appropriate service functions. The application currently only uses the <strong>update()</strong> function, but with a little additional code the other functions could be used as well.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(23), 
                            "description" : "<p>Save the files you’ve modified up to this point.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(24), 
                            "description" : "<p>Check your console and make sure that you don’t have any errors shown. If the build isn’t working double-check the code you entered in the previous steps.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(25), 
                            "description" : "<p>View the browser to make sure customers are showing correctly.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Working with ngrx-data", 
                    "description" : "<p>In this exercise, you&#39;ll explore an Angular project that uses <strong>ngrx-data</strong> for state management.</p>"
                }, 
                {
                    "items" : [
                        {
                            "items" : [

                            ], 
                            "type" : "note", 
                            "title" : "", 
                            "content" : "<p>  You can find the final code solution for this lab exercise <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/state-management/observable-store\">here</a>.</p>", 
                            "itemId" : NumberInt(1)
                        }
                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open the <strong>labs/state-management/observable-store/begin</strong> folder in your editor.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Right-click on the <strong>begin</strong> folder and select <strong>Open in Terminal</strong> from the menu.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "ng serve -o", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Don’t worry about any errors you see in the console. You’ll add code that will resolve the errors later in this exercise.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Launch the application in the browser by running the following Angular CLI command:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Keep the browser open (even though there are errors to fix) and switch back to your editor.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You can read more about Observable Store at <a target=\"_blank\" href=\"https://github.com/DanWahlin/Observable-Store\">https://github.com/DanWahlin/Observable-Store</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Observable Store provides a centralized store for your application by creating one or more services that derive from an <strong>ObservableStore</strong> base class. It provides a very simple API to add “state” (data) into the store and retrieve “state” out of the store. Components or other services can also subscribe to store changes so that they’re notified any time the store state is modified.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Open <strong>package.json</strong> and take a moment to look at the dependencies. One of the packages is observable-store.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Open the <strong>src/app/app.module.ts</strong> and <strong>src/app/core/core.module.ts</strong> files.</p><p>Notice that there are no special modules that you have to import to use Observable Store. It’s an extremely light-weight solution and can even be used with other SPA projects such as React, Vue.js, or even general JavaScript/TypeScript projects.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  A key benefit of interfaces is that they provide the “shape” for data and have all of the code help benefits in the editor, but don’t generate any code when TypeScript is compiled to JavaScript. There’s no overhead at runtime for using interfaces.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Open the <strong>src/app/core/model</strong> folder and take a moment to explore the customer and order interfaces that are defined. Classes or interfaces can be used with Observable Store. You aren’t forced to use one or the other.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Now open <strong>src/app.shared/interfaces.ts</strong> in the editor and notice the <strong>StoreState</strong> interface that is defined.</p><p>This is used to define the “shape” of the data for the application’s store. While this example stores a collection of customers, a single customer, and orders, any type of data can be stored.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "export class CustomersService extends ObservableStore<StoreState> {\n\n}", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "Need Help?", 
                                    "content" : "<p>  Use the <strong>extends</strong> keyword.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(10), 
                            "description" : "<p>Open <strong>src/app/customers/customers.service.ts</strong> in the editor.</p><p>Add code to extend <strong>CustomersService</strong> from <strong>ObservableStore&lt;StoreState&gt;</strong>.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "super({ trackStateHistory: true });", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(11), 
                            "description" : "<p>Add the following code into the <strong>constructor</strong> to call the base class’s constructor and tell it to track state history:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(12), 
                            "description" : "<p>Locate the <strong>fetchCustomers()</strong> function. It uses <strong>HttpClient</strong> (which was injected into the constructor) to call the server to retrieve customer data in this case.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "this.setState({ customers }, \n     CustomersStoreActions.GetCustomers);", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  The <strong>ObservableStore&lt;T&gt;</strong> base class provides several functions that can be used to interact with the store including <strong>setState()</strong>. This example uses <strong>setState()</strong> to add the retrieved customers into the store (it will update the store’s customers property in this example). It also passes the action that occurred to the store so that you can view the store’s state history if desired.</p>", 
                                    "itemId" : NumberInt(2)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  The <strong>CustomersStoreActions</strong> value in the code is a simple <strong>Enum</strong> that defines string values. It can be found at the bottom of the <strong>CustomersService</strong> file.</p>", 
                                    "itemId" : NumberInt(3)
                                }
                            ], 
                            "stepId" : NumberInt(13), 
                            "description" : "<p>Add the following code below the <strong>Set the Store State Here</strong> comment in <strong>fetchCustomers()</strong> to add data to the store:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const state = this.getState();", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This code uses the <strong>ObservableStore</strong> base class’s <strong>getState()</strong> function to retrieve the state from the store.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(14), 
                            "description" : "<p>Locate the <strong>getAll()</strong> function and add the following code after the <strong>Get Store State Here</strong> comment:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(15), 
                            "description" : "<p>Once the state is retrieved the code that follows checks to see if the state’s customers property has a value. If it does the code returns that value using <strong>of()</strong> to wrap it in an observable. If no value is found then <strong>fetchCustomers()</strong> is called to retrieve the data and add it to the store.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "console.log(this.stateHistory);", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(16), 
                            "description" : "<p>Add the following code into <strong>getAll()</strong> after the <strong>Log Store State Here</strong> comment. This allows you to view all changes that have occurred in the store over time.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(17), 
                            "description" : "<p>Locate the <strong>get()</strong> function and notice how it filters the customers returned from <strong>getAll()</strong> by the customer ID and then adds the customer to the store using <strong>setState()</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(18), 
                            "description" : "<p>Now that a service and store have been defined, let’s see how to interact with the store from a component.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "customers$: Observable<Customer[]>;", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(19), 
                            "description" : "<p>Open <strong>src/app/customers/customers.component.ts</strong> in the editor.</p><p>Add the following property into the component:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(20), 
                            "description" : "<p>Inject <strong>CustomersService</strong> into the component’s constructor. Make the parameter private and give it a name of <strong>customersService</strong>. Make sure that you add the proper imports statement at the top of the file for the service.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "getCustomers() {\n    this.customers$ = this.customersService.getAll();\n}", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  This calls the <strong>getAll()</strong> service you worked with earlier. Data is either retrieved directly from the store if it exists, or from the server if it doesn’t exist.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(21), 
                            "description" : "<p>Add the following function into the component to retrieve customers using the injected customersService object and assign the returned observable to the customers$ property:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(22), 
                            "description" : "<p>Locate the <strong>ngOnInit()</strong> function. Add code in it to call the <strong>getCustomers()</strong> function.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(23), 
                            "description" : "<p>Save the files you’ve modified up to this point. Check your console and make sure that you don’t have any errors shown. If the build isn’t working double-check the code you entered in the previous steps.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(24), 
                            "description" : "<p>View the browser to make sure customers are showing correctly.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You can find more details about using stateChanged and even selecting &quot;slices&quot; of the store&#39;s state at <a target=\"_blank\" href=\"https://github.com/DanWahlin/Observable-Store\">https://github.com/DanWahlin/Observable-Store</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(25), 
                            "description" : "<p>Other components that want to know about changes to the store can inject <strong>CustomersService</strong> and subscribe to its <strong>stateChanged</strong> observable. This is similar to using selectors in the Ngrx world to know when the store state changes.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(3), 
                    "title" : "Working with Observable Store", 
                    "description" : "<p>In this exercise, you&#39;ll explore an Angular project that uses Observable Store for state management.</p>"
                }
            ], 
            "labId" : NumberInt(5), 
            "title" : "Working with State Management", 
            "description" : "<p>In this lab, you&#39;ll explore different state management options. Although in-depth coverage of state management solutions isn’t possible in a single lab, the lab will expose you to how some of the different options work and the code they use.</p><p>In this lab, you will:</p><ul><li><p>Explore different state management options including:</p></li><li><p>NgRx</p></li><li><p>ngrx-data</p></li><li><p>Observable Store</p></li></ul>", 
            "estimatedTime" : "0"
        }, 
        {
            "labId" : NumberInt(6), 
            "title" : "Routing Guards", 
            "description" : "<p>This lab will walk you through adding preload strategies to help load your javascript files before a user needs them. It will also walk you through how to run logic before a route changes to allow or prevent navigation to a route.</p>", 
            "estimatedTime" : "0", 
            "exercises" : [
                {
                    "exerciseId" : NumberInt(1), 
                    "title" : "Routing Guards", 
                    "description" : "<p>In this exercise you&#39;ll prevent users from navigating to one of your routes (and modules), based on custom logic.</p>", 
                    "steps" : [
                        {
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Open the <strong>labs/routing-guards-and-preload-strategies/begin</strong> folder and install the npm dependencies.</p>", 
                            "items" : [

                            ]
                        }, 
                        {
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Create a <strong>CanActivate</strong> routing guard in the <strong>CoreModule</strong> named <strong>AuthGuard</strong> using the CLI.</p>", 
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "command line", 
                                            "content" : "ng g g core/Auth", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "Need Help?", 
                                    "content" : "<p>  Run the following Angular CLI command. If you need more help with the guard the final source code can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/routing-guards-and-preload-strategies/end\">found here</a>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ]
                        }, 
                        {
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Use <strong>a-guard-can-activate</strong> snippet to replace the code in the new file, and name the class <strong>AuthGuard</strong>.</p>", 
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Note that you&#39;ll need to install John Papa&#39;s <a target=\"_blank\" href=\"https://marketplace.visualstudio.com/items?itemName=johnpapa.Angular2&amp;wt.mc_id=angularworkshop-github-jopapa\">Angular Snippets</a> in order for this snippet to appear in VS Code.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ]
                        }, 
                        {
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Configure the function to return <strong>false</strong>.</p>", 
                            "items" : [

                            ]
                        }, 
                        {
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Apply the guard to the <strong>/villains</strong> route in the <strong>AppRoutingModule</strong>.</p>", 
                            "items" : [

                            ]
                        }, 
                        {
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Open a terminal window in the <code>begin</code> directory and run <code>ng serve -o</code> to start the application.</p><p>Open the dev tools in Chrome, go to the <strong>network tab</strong> and click on the <strong>Villains</strong> navigation in the app.</p><p>Notice the <strong>villains</strong> chunk loads but it does not get navigated to in the UI.</p>", 
                            "items" : [

                            ]
                        }, 
                        {
                            "stepId" : NumberInt(7), 
                            "description" : "<p><strong>Bonus:</strong> How could we make the <strong>Villains</strong> module not load at all?</p>", 
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "hint", 
                                    "title" : "Answer", 
                                    "content" : "<p>  Add the auth guard to the <strong>CanLoad</strong> property of the <strong>villains</strong> route in the <strong>AppRoutingModule</strong>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ]
                        }
                    ], 
                    "items" : [

                    ]
                }
            ], 
            "items" : [
                {
                    "items" : [

                    ], 
                    "type" : "note", 
                    "title" : "", 
                    "content" : "<p>  The final source code for this lab can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/routing-guards-and-preload-strategies/end\">found here</a>.</p>", 
                    "itemId" : NumberInt(1)
                }
            ]
        }, 
        {
            "items" : [
                {
                    "items" : [

                    ], 
                    "type" : "note", 
                    "title" : "", 
                    "content" : "<p>  The final source code for this lab can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/routing-guards-and-preload-strategies/end\">found here</a>.</p>", 
                    "itemId" : NumberInt(1)
                }
            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/routing-guards-and-preload-strategies/begin</strong> folder in your editor and run <code>npm install</code></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the app using <code>ng serve -o</code></p><p>Now open the dev tools in <strong>Chrome,</strong> and go to the <strong>network tab</strong>. Notice the heroes bundle is loaded, but the <strong>villains</strong> bundle is not.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Add the <strong>PreloadAllModules</strong> strategy to the <strong>AppRoutingModule</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>network tab</strong>.</p><p>Notice the heroes and villains bundles both are loaded.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Preload All Modules Strategy", 
                    "description" : "<p>In this exercise you&#39;ll change the behavior of your app from loading modules on demand to pre-loading all modules in advance.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/routing-guards-and-preload-strategies/begin</strong> folder in your editor and run <code>npm install</code></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the app using <code>ng serve -o</code></p><p>Now open the dev tools in <strong>Chrome,</strong> and go to the <strong>network tab</strong>. Notice the heroes bundle is loaded, but the <strong>villains</strong> bundle is not.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Add the <strong>PreloadSelectedModulesList</strong> strategy to the <strong>AppRoutingModule</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Add <code>data: {preload: true}</code> to the villains route</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>network tab</strong>.</p><p>Notice the heroes and villains bundles both are loaded.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Change <code>data: {preload: false}</code> on the villains route</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>network tab</strong>.</p><p>Notice the heroes bundles is loaded, but the villains bundle is not.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Opt In Preload Strategy", 
                    "description" : "<p>In this exercise you&#39;ll change the behavior of your app pre-loading modules to preload ones that you specifically select.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/routing-guards-and-preload-strategies/begin</strong> folder in your editor and run <code>npm install</code></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the app using <code>ng serve -o</code></p><p>Now open the dev tools in <strong>Chrome,</strong> and go to the <strong>network tab</strong>. Notice the heroes bundle is loaded, but the <strong>villains</strong> bundle is not.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Add the <strong>NetworkAwarePreloadStrategy</strong> strategy to the <strong>AppRoutingModule</strong>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>network tab</strong>.</p><p>Notice the heroes and villains bundles both are loaded, as long as your network is rated at least as fast as 3G or better.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Open <code>core/network-aware-preload-strategy.ts</code> and uncomment the 3g and 4g speeds. This will cause the strategy not to preload if your speed is 3g or 4g, according to your browser.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>network tab</strong>.</p><p>Notice the heroes is loaded but the villains is not loaded.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(3), 
                    "title" : "Network Aware Preload Strategy", 
                    "description" : "<p>In this exercise you&#39;ll change the behavior of your app pre-loading modules to preload ones that you specifically select.</p>"
                }
            ], 
            "labId" : NumberInt(7), 
            "title" : "Preload Strategies", 
            "description" : "<p>This lab will walk you through adding preload strategies to help load your javascript files before a user needs them. It will also walk you through how to run logic before a route changes to allow or prevent navigation to a route.</p>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [

            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng new shared-project", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Create a new folder and then we&#39;ll create a new angular project and shared library in it.</p><p>Run the following command in your new folder to create a new Angular project.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "cd shared-project", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Now <strong>cd</strong> into the newly created <strong>shared-project</strong> folder.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng g library shared-lib", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the following command to create a new shared library:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "code .", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If your system doesn&#39;t recognize the <strong>code .</strong> command, open the project folder using the VS Code <strong>File</strong> menu.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Open the project in VS Code by running the following command:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You&#39;ll see that in addition to the normal Angular project code, there&#39;s a folder named <strong>projects</strong>.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Take a moment to look at the folder structure.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "Creating an Angular Library", 
                    "description" : "<p>In this exercise you&#39;ll create an Angular library using the CLI.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Perform the following tasks:</p><ul><li><p>Expand the <strong>projects</strong> folder and notice the code for the new shared library is in the <strong>shared-lib</strong> folder.</p></li><li><p>Expand <strong>shared-lib/src/lib</strong> folder and open the <strong>shared-lib.component.ts</strong> file.</p></li><li><p>Take a moment to look through the code and note that it’s a standard Angular component. This is where you could add your first shared component (a grid, calendar, header/footer, or whatever you need).</p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng build shared-lib", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open a console in VS Code at the root of the <strong>shared-project</strong> folder. Run the following command to build the shared library:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  If you&#39;re using Visual Studio Code you may see several options for importing <strong>SharedLibModule</strong> if you select the light bulb or use the auto-import functionality. However, you can type <strong>shared-lib</strong> for the path of the import.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>In the <strong>shared-project</strong> folder locate the <strong>src/app/app.module.ts</strong> file. Add <strong>SharedLibModule</strong> to the imports.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "html", 
                                    "content" : "<lib-shared-lib></lib-shared-lib>", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>If you get a red line under the <code>lib-shared-lib</code> tag in VS Code you can ignore it.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>In the <strong>shared-project</strong> folder locate the <strong>src/app/app.component.html</strong> file. Add the shared library component selector into the bottom of the HTML template (above the footer).</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng serve -o", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  You should see the shared component rendered at the bottom of the page.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Go back to the command prompt and run the project using the following command:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Stop the server in the console by pressing <strong>ctrl + c</strong>.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  When you build your own libraries it doesn&#39;t go into <strong>node_modules</strong> so we use the <strong>tsconfig</strong> paths to tell the build system where it is. Generating a library automatically adds its path to the <strong>tsconfig</strong> file.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>How does this work since the <strong>shared-lib</strong> project wasn’t copied to the <strong>node_modules</strong> folder? Here a few details from the docs:</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Open up <strong>tsconfig.json</strong> at the root of the project and notice that <strong>shared-lib</strong> has been added to the <strong>paths</strong> property.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "command line", 
                                    "content" : "ng build shared-lib\ncd dist/shared-lib\nnpm publish", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  There’s no need to run these commands now. If you do end up wanting to publish a library to npm you can create an account.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Once <strong>shared-lib</strong> is ready to publish to <strong>npm</strong> (the public npm or an internal one) you would run the following commands:</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Using an Angular Library", 
                    "description" : "<p>In this exercise, you&#39;ll modify the shared library and then use it in an Angular project. You&#39;ll also learn how the shared library could be published to npm.</p>"
                }
            ], 
            "labId" : NumberInt(8), 
            "title" : "Building an Angular Library", 
            "description" : "<p>In this lab, you&#39;ll learn create an Angular library that can be shared across projects and even published to npm.</p>", 
            "estimatedTime" : "0"
        }, 
        {
            "items" : [
                {
                    "items" : [

                    ], 
                    "type" : "note", 
                    "title" : "", 
                    "content" : "<p>  The final source code for this lab can be <a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture/tree/master/labs/http-interceptors/end\">found here</a>.</p>", 
                    "itemId" : NumberInt(1)
                }
            ], 
            "exercises" : [
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/http-interceptors/begin</strong> folder in your editor and run <code>npm install</code>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the app using <code>npm run quick</code></p><p>Now open the dev tools in <strong>Chrome,</strong> and go to the <strong>console</strong> in the <strong>Developer Tools</strong>. Notice the console messages logged that show the headers in the HTTP request.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const setHeaders = { 'x-csrf-token': 'your-csrf-token-goes-here' };", 
                                    "itemId" : NumberInt(1)
                                }, 
                                {
                                    "items" : [

                                    ], 
                                    "type" : "note", 
                                    "title" : "", 
                                    "content" : "<p>  Your CSRF token might be gathered from a cookie in your application.</p>", 
                                    "itemId" : NumberInt(2)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Open the <strong>labs/http-interceptors/begin/src/app/interceptors/csrf.interceptor.ts</strong>.</p><p>Find the comment <code>return next.handle(req.clone()); // Remove this</code> and replace it by creating a constant named <code>setHeaders</code> and set it to an object whose key is <code>x-csrf-token</code> and value is a string that represents your token. For now, type any value for your token. Your new line of code should look like the following:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const clonedReq = req.clone({ setHeaders });", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Create a constant named <code>clonedReq</code> to represent a clone of the HTTP request. Set the const to the <code>req.clone({ setHeaders })</code> as shown below.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>Log a message to the console saying that you are creating the CSRF header.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "return next.handle(clonedReq);", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Now you must handle the cloned request. Pass the cloned request to the function <code>next.handle()</code> and return it from the <code>intercept</code> function.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Open the file <strong>labs/http-interceptors/begin/src/app/interceptors/index.ts</strong> and add the <code>CSRFInterceptor</code> to the array of <code>interceptorProviders</code>. Use the same values for <code>provide</code> and <code>multi</code> as all of the other interceptors. Place it in the array before the <code>LogHeadersInterceptor</code>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(9), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>console</strong> in the <strong>Developer Tools</strong>.</p><p>Notice the log message for the CSRF token being created. Also notice that the CSRF token is logged by the <code>LogHeadersInterceptor</code>.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(1), 
                    "title" : "CSRF/XSRF Interceptors", 
                    "description" : "<p>In this exercise you&#39;ll add a <a target=\"_blank\" href=\"https://developer.mozilla.org/docs/Glossary/CSRF\">CSRF/XSRF</a> header to your HTTP requests.</p>"
                }, 
                {
                    "items" : [

                    ], 
                    "steps" : [
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(1), 
                            "description" : "<p>Download the Angular Architecture project (download the .zip or do a git clone) from the following URL if you haven&#39;t already:</p><p><a target=\"_blank\" href=\"https://github.com/DanWahlin/angular-architecture\">https://github.com/DanWahlin/angular-architecture</a></p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(2), 
                            "description" : "<p>Open the <strong>labs/http-interceptors/begin</strong> folder in your editor and run <code>npm install</code>.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(3), 
                            "description" : "<p>Run the app using <code>npm run quick</code></p><p>Now open the dev tools in <strong>Chrome,</strong> and go to the <strong>console</strong> in the <strong>Developer Tools</strong>. Notice the console messages logged that show the headers in the HTTP request.</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [

                                    ], 
                                    "type" : "code", 
                                    "title" : "", 
                                    "language" : "typescript", 
                                    "content" : "const started = Date.now();\nlet ok: string;\nreturn next.handle(req).pipe(\n\n);", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(4), 
                            "description" : "<p>Open the <strong>labs/http-interceptors/begin/src/app/interceptors/log-response.interceptor.ts</strong>.</p><p>Find the comment <code>return next.handle(req);</code>. This statement returns an <code>Observable&lt;HttpEvent&lt;any&gt;&gt;</code>. You are going to pipe this Observable&#39;s stream so you can log the response time. Start by adding the pipe. Your code should now look like the following:</p>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "tap(\n    event => (ok = event instanceof HttpResponse ? 'succeeded' : ''),\n    error => (ok = 'failed')\n ),", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "Need Help?", 
                                    "content" : "<p>  Your <code>tap</code> code should look like the following code.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(5), 
                            "description" : "<p>Use the <code>tap</code> operator to set the <code>ok</code> variable based on whether the response succeeds or fails.</p><ul><li><p>Add the <code>tap</code> operator to the pipe. The <code>tap</code> operator accepts two function paths: a success function and an error function</p></li><li><p>Pass an arrow function for the success path that sets the variable <code>ok</code> to the string <code>success</code> when the <code>event</code> is an <code>instanceof</code> <code>HttpResponse</code>.</p></li><li><p>Pass an arrow function for the the error path that sets the variable <code>ok</code> to the string <code>error</code></p></li></ul>"
                        }, 
                        {
                            "items" : [
                                {
                                    "items" : [
                                        {
                                            "type" : "code", 
                                            "title" : "", 
                                            "language" : "typescript", 
                                            "content" : "finalize(() => {\n  const elapsed = Date.now() - started;\n  console.log(\n    `${req.method} \"${req.urlWithParams}\" \\n\\t ${ok} in ${elapsed} ms.`\n  );\n })", 
                                            "itemId" : NumberInt(1)
                                        }
                                    ], 
                                    "type" : "hint", 
                                    "title" : "Need Help?", 
                                    "content" : "<p>  Your <code>tap</code> code should look like the following code.</p>", 
                                    "itemId" : NumberInt(1)
                                }
                            ], 
                            "stepId" : NumberInt(6), 
                            "description" : "<p>The code already captures the start time when the interceptor begins. Now add the <code>finalize</code> operator to the <code>pipe</code> to capture the end time.</p><ul><li><p>Add the <code>finalize</code> operator to the pipe.</p></li><li><p>The <code>finalize</code> accepts an arrow function with no parameters. Add this now.</p></li><li><p>Capture the elapsed time between now and the <code>started</code> variable</p></li><li><p>Log a message to the console showing</p></li><li><p>the request method</p></li><li><p>the request parameters</p></li><li><p>the elapsed time</p></li><li><p>the success or failure</p></li></ul>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(7), 
                            "description" : "<p>Open the file <strong>labs/http-interceptors/begin/src/app/interceptors/index.ts</strong> and add the <code>LogResponseTimeInterceptor</code> to the array of <code>interceptorProviders</code>. Use the same values for <code>provide</code> and <code>multi</code> as all of the other interceptors. Place it at the end of the array.</p>"
                        }, 
                        {
                            "items" : [

                            ], 
                            "stepId" : NumberInt(8), 
                            "description" : "<p>Go back to Chrome, and go to the <strong>console</strong> in the <strong>Developer Tools</strong>.</p><p>Notice the log message for the HTTP Response time.</p>"
                        }
                    ], 
                    "exerciseId" : NumberInt(2), 
                    "title" : "Log the Response Time", 
                    "description" : "<p>In this exercise you&#39;ll log the response times of HTTP requests using an HttpInterceptor.</p>"
                }
            ], 
            "labId" : NumberInt(9), 
            "title" : "HTTP Interceptors", 
            "description" : "<p>In this lab you&#39;ll learn about how HTTP Interceptors can be used in your Angular applications to interact with your HTTP requests for purposes like security and logging.</p>", 
            "estimatedTime" : "0"
        }
    ], 
    "showExerciseNumbers" : false, 
    "showLabNumbers" : false, 
    "showLabExercisePrefixes" : true
}